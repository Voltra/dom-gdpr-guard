<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>dom-gdpr-guard</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Noto+Sans&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">dom-gdpr-guard</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
		</div>
	</div>
</header>
<div class="container">
	<div class="row container container-main">
		<div class="col-3 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation secondary menu-sticky">
				<ul>
					<ul class="before-current">
						<li class=" tsd-kind-interface">
							<a href="interfaces/gdprpayload.html" class="tsd-kind-icon">Gdpr<wbr>Payload</a>
						</li>
						<li class=" tsd-kind-interface">
							<a href="interfaces/renderpayload.html" class="tsd-kind-icon">Render<wbr>Payload</a>
						</li>
						<li class=" tsd-kind-type-alias">
							<a href="globals.html#grouprenderfunction" class="tsd-kind-icon">Group<wbr>Render<wbr>Function</a>
						</li>
						<li class=" tsd-kind-type-alias">
							<a href="globals.html#grouprenderer" class="tsd-kind-icon">Group<wbr>Renderer</a>
						</li>
						<li class=" tsd-kind-type-alias">
							<a href="globals.html#guardrenderfunction" class="tsd-kind-icon">Guard<wbr>Render<wbr>Function</a>
						</li>
						<li class=" tsd-kind-type-alias">
							<a href="globals.html#guardrenderer" class="tsd-kind-icon">Guard<wbr>Renderer</a>
						</li>
						<li class=" tsd-kind-type-alias">
							<a href="globals.html#managerrenderfunction" class="tsd-kind-icon">Manager<wbr>Render<wbr>Function</a>
						</li>
						<li class=" tsd-kind-type-alias">
							<a href="globals.html#managerrenderer" class="tsd-kind-icon">Manager<wbr>Renderer</a>
						</li>
						<li class=" tsd-kind-type-alias">
							<a href="globals.html#rerenderfunction" class="tsd-kind-icon">Re<wbr>Render<wbr>Function</a>
						</li>
						<li class=" tsd-kind-type-alias">
							<a href="globals.html#rendered" class="tsd-kind-icon">Rendered</a>
						</li>
						<li class=" tsd-kind-type-alias">
							<a href="globals.html#subgrouprenderer" class="tsd-kind-icon">Sub<wbr>Group<wbr>Renderer</a>
						</li>
						<li class=" tsd-kind-variable">
							<a href="globals.html#diffing" class="tsd-kind-icon">diffing</a>
						</li>
						<li class=" tsd-kind-function">
							<a href="globals.html#mountontarget" class="tsd-kind-icon">mount<wbr>OnTarget</a>
						</li>
						<li class=" tsd-kind-function">
							<a href="globals.html#render" class="tsd-kind-icon">render</a>
						</li>
						<li class=" tsd-kind-function">
							<a href="globals.html#renderinside" class="tsd-kind-icon">render<wbr>Inside</a>
						</li>
					</ul>
				</ul>
				<ul>
					<li>ðŸ“‘ Index</li>
					<li><br></li>
					<li class=" ">
						<a href="globals.html">Globals</a>
				</li>                </ul>
			</nav>
		</div>
		<div class="col-9 col-content">
			<div class="tsd-panel">
				<a href="#dom-gdpr-guard" id="dom-gdpr-guard" style="color: inherit; text-decoration: none;">
					<h1>dom-gdpr-guard</h1>
				</a>
				<blockquote>
					<p> Vanilla JavaScript binding to use gdpr-guard as efficiently and easily as possible</p>
				</blockquote>
				<center><img src="https://github.com/Voltra/dom-gdpr-guard/raw/dev/dom-gdpr-guard.png" alt="Logo" width="250"/></center>
				<p>This library defines logic to display GDPR settings and allow to easily modify and save them.</p>
				<p>If you need any help, you&#39;re more than welcome on my <a href="https://discordapp.com/invite/JtWAjbw">official Discord server</a> dedicated to my open-source projects.</p>
				<p>You can read the online documentation <a href="https://voltra.github.io/dom-gdpr-guard/">here</a> and take a look at a <a href="https://github.com/Voltra/dom-gdpr-guard/tree/master/example">very simple example</a>.</p>
				<a href="#how-to-import" id="how-to-import" style="color: inherit; text-decoration: none;">
					<h2>How to import</h2>
				</a>
				<pre><code class="language-javascript"><span class="hljs-comment">//// ES6</span>
<span class="hljs-keyword">import</span> {
    gdprGuard, <span class="hljs-comment">// everything that gdpr-guard exports</span>
    <span class="hljs-comment">// you could also directly import from gdpr-guard as it&#x27;s a dependency</span>
    render,
    renderInside,
} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;dom-gdpr-guard&quot;</span>

<span class="hljs-comment">//// Node</span>
<span class="hljs-keyword">const</span> {
    gdprGuard, <span class="hljs-comment">// everything that gdpr-guard exports</span>
    <span class="hljs-comment">// you could also directly import from gdpr-guard as it&#x27;s a dependency</span>
    render,
    renderInside,
} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;dom-gdpr-guard&quot;</span>);

<span class="hljs-comment">//// Browser</span>
<span class="hljs-keyword">const</span> {
    gdprGuard, <span class="hljs-comment">// everything that gdpr-guard exports</span>
    render,
    renderInside,
} = <span class="hljs-built_in">window</span>.domGdprGuard;</code></pre>
				<a href="#what39s-available-" id="what39s-available-" style="color: inherit; text-decoration: none;">
					<h2>What&#39;s available ?</h2>
				</a>
				<pre><code class="language-typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> renderInside: <span class="hljs-function">(<span class="hljs-params">target: Element, gdpr: GdprPayload, payload: RenderPayload</span>) =&gt;</span> <span class="hljs-built_in">Promise</span>&lt;ReRenderFunction&gt;;

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> render: <span class="hljs-function">(<span class="hljs-params">gdpr: GdprPayload, payload: RenderPayload</span>) =&gt;</span> <span class="hljs-built_in">Promise</span>&lt;Rendered&gt;;

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">interface</span> GdprPayload{
    savior: GdprSavior;
    managerFactory: GdprManagerFactory;
}

<span class="hljs-comment">// render function : (subRenderFunction, savior, gdprItem) =&gt; Rendered</span>
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">interface</span> RenderPayload{
    renderManager: ManagerRenderFunction;
    renderGroup: GroupRenderFunction;
    renderGuard: GuardRenderFunction;
}

<span class="hljs-keyword">type</span> Rendered = Element;
<span class="hljs-keyword">type</span> ReRenderFunction = <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;;</code></pre>
				<a href="#render" id="render" style="color: inherit; text-decoration: none;">
					<h3>render</h3>
				</a>
				<p><code>render</code> is a function that allows to render the GDPR state using the provided render functions, manager factory and gdpr savior.</p>
				<p>It returns the rendered element so that you can mount it yourself in the DOM.</p>
				<a href="#renderinside" id="renderinside" style="color: inherit; text-decoration: none;">
					<h3>renderInside</h3>
				</a>
				<p><code>renderInside</code> is a function that allows to render the GDPR state inside a container using the container as well as the provided render functions, manager factory and gdpr savior.</p>
				<p>It returns a function that when called will smartly re-render the GDPR state to avoid the pain of manually handling updates efficiently (it uses DOM diffing).</p>
				<a href="#savior-api" id="savior-api" style="color: inherit; text-decoration: none;">
					<h2>Savior API</h2>
				</a>
				<p>The <a href="https://voltra.github.io/gdpr-guard/interfaces/gdprsavior.html">Savior API</a> is mainly designed for library developers, therefore you might need an additional library to provide with the savior you may need (e.g. <code>gdpr-guard-local</code> for local storage).</p>
				<a href="#design-choices" id="design-choices" style="color: inherit; text-decoration: none;">
					<h2>Design choices</h2>
				</a>
				<p>From a design stand point, it&#39;s been a common trend across all my libraries to expose my APIs as asynchronous if users might need to use their own asynchronous code inside. That comes from the idea that integrating asynchronous code inside code that is required to be synchronous makes it really difficult to interface properly.</p>
				<p>As such, even though I use the term <code>return</code> in the previous descriptions, it&#39;s more accurate to say that the returned promise <strong>resolves</strong> to the described value. </p>
				<p>That does not mean in any way that you <strong>have to</strong> return a promise, we can <code>await</code> on non-promise values and they will resolve immediately. Although, for good measures, if you can mark your functions as <code>async</code>, that would avoid any issues and the code inside would still be the same.</p>
				<p>One of the advantages of using promises and asynchronous functions as an API designer is that error handling is &quot;covered for free&quot; with the promises&#39;s exception propagation mecanisms.</p>
			</div>
			<footer>
				<div class="tsd-legend-group">
					<ul class="tsd-legend">
						<li class="tsd-is-inherited"><span class="tsd-kind-icon">Inherited</span></li>
						<li class="tsd-is-protected"><span class="tsd-kind-icon">Protected</span></li>
						<li class="tsd-is-private"><span class="tsd-kind-icon">Private</span></li>
						<li class="tsd-is-static"><span class="tsd-kind-icon">Static</span></li>
					</ul>
					<ul class="tsd-legend">
						<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
						<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object</span></li>
						<li class="tsd-kind-property"><span class="tsd-kind-icon">Property</span></li>
					</ul>
					<ul class="tsd-legend">
						<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
						<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
						<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index</span></li>
					</ul>
					<ul class="tsd-legend">
						<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type</span></li>
						<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
						<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
					</ul>
					<ul class="tsd-legend">
						<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enum</span></li>
						<li class="tsd-kind-constructor"><span class="tsd-kind-icon">Constructor</span></li>
						<li class="tsd-kind-accessor"><span class="tsd-kind-icon">Getter/Setter</span></li>
					</ul>
				</div>
			</footer>
		</div>
	</div>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>